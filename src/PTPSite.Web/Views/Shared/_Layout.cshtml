@using System.Globalization
@using PTPSite.Services
@using Microsoft.AspNetCore.Hosting

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
@inject IHostingEnvironment HostingEnvironment
@{
	string uiLanguageName = CultureInfo.CurrentUICulture.TwoLetterISOLanguageName;
}
<!DOCTYPE html>
<html lang="@(uiLanguageName)">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>@ViewData["Title"] - PTPSite.Web</title>

	<environment include="Development">
		<link rel="stylesheet" href="~/css/superhero.css" asp-append-version="true" />
		<link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
	</environment>
	<environment exclude="Development">
		<link rel="stylesheet" href="~/css/superhero.min.css" asp-append-version="true" />
		<link rel="stylesheet" href="~/css/site.min.css" asp-append-version="true" />
	</environment>
	<environment include="Development">
		<script src="~/lib/jquery/dist/jquery.js" asp-append-version="true"></script>
		<script src="~/lib/bootstrap/dist/js/bootstrap.js" asp-append-version="true"></script>
		<script src="~/js/site.js" asp-append-version="true"></script>
	</environment>
	<environment exclude="Development">
		<script src="~/lib/jquery/dist/jquery.min.js" asp-append-version="true"></script>
		<script src="~/lib/bootstrap/dist/js/bootstrap.min.js" asp-append-version="true"></script>
		<script src="~/js/site.min.js" asp-append-version="true"></script>
	</environment>
</head>
<body>
	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a asp-area="" asp-controller="Home" asp-action="Index" class="navbar-brand">
					PTPSite.Web
					@{
						if (HostingEnvironment.IsDevelopment())
						{
							<span>(Development)</span>
						}
					}
				</a>
			</div>
			<div class="navbar-collapse collapse">
				<ul class="nav navbar-nav">
					@{
						@*if (SignInManager.IsSignedIn(User))
							{
								ApplicationUser user = await UserManager.GetUserAsync(User);

								if (user.Role == RoleType.Doctor)
								{
									<li><a asp-area="" asp-controller="Patient" asp-action="Index">@Localizer["Пациенти"]</a></li>
									<li><a asp-area="" asp-controller="Appointment" asp-action="Index">@Localizer["Запазени часове"]</a></li>
								}
								else if (user.Role == RoleType.Patient)
								{
									<li><a asp-area="" asp-controller="Dentist" asp-action="Index">@Localizer["Зъболекари"]</a></li>
									<li><a asp-area="" asp-controller="Appointment" asp-action="Index">@Localizer["Запазени часове"]</a></li>
								}
							}*@
					}
				</ul>
				@await Html.PartialAsync("_LoginPartial")
			</div>
		</div>
	</nav>
	<div class="container body-content">
		@RenderBody()
		<hr />
		<footer>
			<p>&copy; 2017 - PTPSite.Web</p>
		</footer>
	</div>

	@RenderSection("Scripts", required: false)
</body>
</html>
